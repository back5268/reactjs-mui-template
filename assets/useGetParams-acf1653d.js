import{k as M,j as s,G as y,g as b,aN as E,aO as T,aP as w,Z as j,aQ as B,aB as V,c as F,aR as x,B as L,a2 as N,S as R,h as k,f as Y,i as _,r as h,aS as D,aT as q}from"./index-21568be7.js";import{g as z}from"./FormInput-7f40563c.js";const A=48,G=8,ie=e=>{const t=M(),{id:r,label:a,options:n=[],optionLabel:i,optionValue:u,required:f,errors:o={},register:c=()=>{},xs:d=12,sm:l=12,lg:m=6,...C}=e,I={PaperProps:{style:{maxHeight:A*4.5+G}}};return s.jsx(y,{item:!0,xs:d,sm:l,lg:m,children:s.jsxs(b,{fullWidth:!0,error:!!(o&&o[r]),sx:{...t.typography.customInput},children:[s.jsx(E,{htmlFor:r,children:a}),s.jsx(T,{...c(r,f&&z()),input:s.jsx(w,{id:r,label:a}),MenuProps:I,defaultValue:"",...C,children:n[0]?n.map((p,P)=>s.jsx(j,{value:p[u]||(p.id===0?0:p.id||p),style:{height:"40px"},children:p[i]||p.name||p},P)):s.jsx(j,{value:"",style:{height:"40px"},children:"Không tìm thấy dữ liệu"})}),o&&o[r]&&s.jsx(B,{error:!0,children:o[r].message})]})})},J=e=>{const{label:t,type:r}=e,a=M(),n={height:32,padding:"0 6px"},i={...n,color:a.palette.orange.dark,backgroundColor:a.palette.orange.light},u={...n,color:a.palette.warning.dark,backgroundColor:a.palette.warning.light},f={...n,color:a.palette.success.dark,backgroundColor:a.palette.success.light},o={...n,color:a.palette.primary.dark,backgroundColor:a.palette.primary.light};let c={};switch(r){case"success":c=f;break;case"warning":c=u;break;case"error":c=i;break;default:c=o;break}return s.jsx(V,{label:t,sx:c})},X=F(s.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),$=e=>{for(let t in e)e[t]||e[t]===""||e[t]===0||delete e[t];return e},W=e=>{for(const t in e)e.hasOwnProperty(t)&&(Array.isArray(e[t])?e[t]=[]:typeof e[t]=="object"?e[t]={}:e[t]="");return e},oe=(e,t)=>{const r={};for(const a in e)e.hasOwnProperty(a)&&JSON.stringify(e[a])!==JSON.stringify(t[a])&&(r[a]=e[a]);return r},ce=e=>{try{return JSON.parse(e)}catch{return!1}},g=(e,t,r)=>{if(e)return t?x(e.setHours(23,59,59)).format("YYYY-MM-DD HH:mm:ss"):r==="date"?x(e).format("YYYY-MM-DD"):x(e).format("YYYY-MM-DD HH:mm:ss")},le=e=>{const{setParams:t,filter:r,setFilter:a,handleFilter:n,sm:i=12,lg:u=3,...f}=e,o=()=>{t==null||t(d=>({page:d.page||1,limit:d.limit||10,render:d.render})),a==null||a({...W(r)})},c=d=>{d.preventDefault();let l={...r};l.dates&&l.dates[0]&&(l.from=g(r.dates[0]),l.to=r.dates[1]?g(r.dates[1],!0):g(r.dates[0],!0),l.dates=void 0),n&&(l=n==null?void 0:n(r)),t==null||t(m=>({page:m.page||1,limit:m.limit||20,render:m.render,...$(l)}))};return s.jsx(L,{marginBottom:3,children:s.jsx(N,{children:s.jsx("form",{onSubmit:c,children:s.jsxs(y,{container:!0,spacing:2,...f,children:[e.children,s.jsx(y,{item:!0,xs:12,sm:i,lg:u,alignSelf:"center",children:s.jsxs(R,{direction:"row",spacing:2,justifyContent:"flex-end",children:[s.jsx(k,{type:"button",variant:"outlined",onClick:o,children:"Làm mới"}),s.jsx(k,{type:"submit",variant:"contained",endIcon:s.jsx(X,{}),style:{minWidth:"96px"},children:"Lọc"})]})})]})})})})};var v={},U=_;Object.defineProperty(v,"__esModule",{value:!0});var H=v.default=void 0,K=U(Y()),Q=s,Z=(0,K.default)((0,Q.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"}),"Email");H=v.default=Z;var S={},ee=_;Object.defineProperty(S,"__esModule",{value:!0});var O=S.default=void 0,te=ee(Y()),re=s,se=(0,te.default)((0,re.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9 11H7V9h2v2zm4 0h-2V9h2v2zm4 0h-2V9h2v2z"}),"Sms");O=S.default=se;const ue=(e,t)=>{if(e&&t==="date")return s.jsx(h.Fragment,{children:D(e).format("DD/MM/YYYY")});if(e)return s.jsx(h.Fragment,{children:D(e).format("DD/MM/YYYY HH:mm:ss")})},de=e=>{if(e==="email")return s.jsx(H,{});if(e==="sms")return s.jsx(O,{})},pe=(e=[],t,r="name",a="id")=>{const n=e[0]?e.find(i=>i[a]===t):null;return n?n.type?s.jsx(J,{label:n[r],type:n.type}):n.color?s.jsx("span",{className:"text-center font-bold text-white text-xs",style:{backgroundColor:n.color,padding:"4px",minWidth:"100px",display:"inline-block"},children:n[r]}):s.jsx("p",{children:n[r]}):""},fe=(e=()=>{},t={},r=null)=>{const[a,n]=h.useState(null);async function i(){const u=await e({...t});u.status&&n(u.data)}return h.useEffect(()=>{i()},[JSON.stringify(t)]),a||r},me=()=>{const e=q(),t={};t.page=1,t.limit=10,t.render=!1;const r=new URLSearchParams(e.search);for(let[a,n]of r.entries())t[a]=Number(n)||n;return t};export{pe as B,le as F,ue as T,me as a,ie as b,de as c,ce as d,oe as r,fe as u};
