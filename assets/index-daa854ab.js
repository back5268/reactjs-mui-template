import{r as v,j as t,a1 as k,a2 as A,G as F,a8 as j,M as C,a3 as N,a4 as P}from"./index-21568be7.js";import{u as p,d as V,b as n,r as q,a as B,F as E,B as S,c as G,T as x}from"./useGetParams-acf1653d.js";import{F as _}from"./FormInput-7f40563c.js";import{d as K,a as O,u as D,b as w,l as I,c as L}from"./index-7bc03ba7.js";import{F as U}from"./FormSwitch-9dbcd9cb.js";import{K as J,l as M}from"./index-82ae1dd2.js";import{u as R}from"./index.esm-229c0b27.js";import{l as z}from"./index-217c05a8.js";const h={name:"",service_id:"",type_service:"",status:!0},H=y=>{const{visibled:i,setVisibled:u,setParams:s,services:l}=y,{register:c,handleSubmit:m,reset:g,setValue:b,watch:o,formState:{errors:d}}=R({defaultValues:h}),r=p(K,{id:i},{}),[e,f]=v.useState([{key:"",value:""}]);v.useEffect(()=>{if(typeof i=="number"){for(const a in h)Object.hasOwnProperty.call(h,a)&&(a==="status"?b("status",r.status===1):b(a,r[a]+""||""));r.data&&f(V(r.data)||r.data)}},[JSON.stringify(r)]);const T=a=>(a.status=a.status?1:0,e&&e[0]&&(a.data=e),typeof i=="number"?{...q(a,r),id:i}:a);return t.jsx(k,{checked:typeof i=="number",title:"dịch vụ",visibled:i,setVisibled:u,setParams:s,handleSubmit:m,actions:{add:O,update:D},handleData:T,handleSuccess:()=>{s(a=>({...a,render:!a.render})),f([{key:"",value:""}]),g(h)},children:t.jsx(A,{children:t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(_,{id:"name",label:"Tên dịch vụ (*)",register:c,errors:d,required:!0}),t.jsx(n,{id:"service_id",label:"Nhà cung cấp (*)",options:l,value:o("service_id"),register:c,errors:d,required:!0}),t.jsx(n,{id:"type_service",label:"Loại dịch vụ (*)",options:j,value:o("type_service"),register:c,errors:d,required:!0}),t.jsx(U,{checked:o("status"),id:"status",register:c}),t.jsx(J,{data:e,setData:f})]})})})},se=()=>{const y=B(),[i,u]=v.useState(y),[s,l]=v.useState({key_search:"",type_service:"",status:"",service_id:"",by:""}),[c,m]=v.useState(!1),g=p(I,i,[]),b=p(L,i,0),o=p(M,!1,[]),d=p(z,!1,[]),r=[{field:"name",label:"Tên dịch vụ"},{label:"Người tạo",body:e=>S(d,e.by,"email")},{label:"Kiểu dịch vụ",body:e=>S(j,e.type_service)},{label:"Nhà cung cấp",body:e=>S(o,e.service_id)},{label:"Loại dịch vụ",body:e=>G(e.type_service)},{label:"Thời gian tạo",body:e=>x(e.created_at)},{label:"Thời gian cập nhật",body:e=>x(e.updated_at)},{label:"Trạng thái",field:"status",updateStatus:e=>D({status:e.status,id:e.id})}];return t.jsxs(C,{title:"Danh sách dịch vụ",children:[c&&t.jsx(H,{visibled:c,setVisibled:m,setParams:u,services:o}),t.jsxs(E,{setParams:u,filter:s,setFilter:l,sm:6,lg:9,children:[t.jsx(_,{lg:3,sm:6,label:"Tìm kiếm theo tên",value:s.key_search,onChange:e=>l({...s,key_search:e.target.value})}),t.jsx(n,{lg:3,sm:6,label:"Người tạo",options:d,optionLabel:"email",value:s.by,onChange:e=>l({...s,by:e.target.value})}),t.jsx(n,{lg:3,sm:6,label:"Nhà cung cấp",options:o,value:s.service_id,onChange:e=>l({...s,service_id:e.target.value})}),t.jsx(n,{lg:3,sm:6,label:"Kiểu dịch vụ",options:j,value:s.type_service,onChange:e=>l({...s,type_service:e.target.value})}),t.jsx(n,{lg:3,sm:6,label:"Trạng thái",options:N,value:s.status,onChange:e=>l({...s,status:e.target.value})})]}),t.jsx(P,{params:i,setParams:u,count:b,items:g,columns:r,setVisibleDialog:m,headerInfo:!0,actionInfo:{deleteAction:w}})]})};export{se as default};
